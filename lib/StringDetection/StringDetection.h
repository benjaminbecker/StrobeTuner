#ifndef STRINGDETECTION_H
#define STRINGDETECTION_H

#include <string>

const unsigned char MODE_GUITAR = 0;
const unsigned char MODE_CHROMATIC = 1;

const float stringFrequencies[6] = {82.41,110.0,146.83,196,246.94,329.63};
const char stringNames[][3] = {"S1", "S2", "S3", "S4", "S5", "S6"};
const float toneFrequencies[] = {
  30.86770632850775,
  32.70319566257483,
  34.64782887210901,
  36.70809598967594,
  38.890872965260115,
  41.20344461410875,
  43.653528929125486,
  46.2493028389543,
  48.999429497718666,
  51.91308719749314,
  55.0,
  58.27047018976124,
  61.7354126570155,
  65.40639132514966,
  69.29565774421802,
  73.41619197935188,
  77.78174593052023,
  82.4068892282175,
  87.30705785825097,
  92.4986056779086,
  97.99885899543733,
  103.82617439498628,
  110.0,
  116.54094037952248,
  123.47082531403103,
  130.8127826502993,
  138.59131548843604,
  146.8323839587038,
  155.56349186104046,
  164.81377845643496,
  174.61411571650194,
  184.9972113558172,
  195.99771799087463,
  207.65234878997256,
  220.0,
  233.08188075904496,
  246.94165062806206,
  261.6255653005986,
  277.1826309768721,
  293.6647679174076,
  311.1269837220809,
  329.6275569128699,
  349.2282314330039,
  369.9944227116344,
  391.99543598174927,
  415.3046975799451,
  440.0,
  466.1637615180899,
  493.8833012561241,
  523.2511306011972,
  554.3652619537442,
  587.3295358348151,
  622.2539674441618,
  659.2551138257398,
  698.4564628660078,
  739.9888454232688,
  783.9908719634985,
  830.6093951598903,
  880.0,
  932.3275230361799,
  987.7666025122483,
  1046.5022612023945,
  1108.7305239074883,
  1174.6590716696303,
  1244.5079348883237,
  1318.5102276514797,
  1396.9129257320155,
  1479.9776908465376,
  1567.981743926997,
  1661.2187903197805,
  1760.0,
  1864.6550460723597,
  1975.533205024496,
  2093.004522404789,
  2217.4610478149766,
  2349.31814333926,
  2489.0158697766474,
  2637.02045530296,
  2793.825851464031,
  2959.955381693075,
  3135.9634878539946,
};

const char noteNames[][3] = {
  "B ",
  "C ",
  "Db",
  "D ",
  "Eb",
  "E ",
  "F ",
  "Gb",
  "G ",
  "Ab",
  "A ",
  "Bb",
  "B ",
  "C ",
  "Db",
  "D ",
  "Eb",
  "E ",
  "F ",
  "Gb",
  "G ",
  "Ab",
  "A ",
  "Bb",
  "B ",
  "C ",
  "Db",
  "D ",
  "Eb",
  "E ",
  "F ",
  "Gb",
  "G ",
  "Ab",
  "A ",
  "Bb",
  "B ",
  "C ",
  "Db",
  "D ",
  "Eb",
  "E ",
  "F ",
  "Gb",
  "G ",
  "Ab",
  "A ",
  "Bb",
  "B ",
  "C ",
  "Db",
  "D ",
  "Eb",
  "E ",
  "F ",
  "Gb",
  "G ",
  "Ab",
  "A ",
  "Bb",
  "B ",
  "C ",
  "Db",
  "D ",
  "Eb",
  "E ",
  "F ",
  "Gb",
  "G ",
  "Ab",
  "A ",
  "Bb",
  "B ",
  "C ",
  "Db",
  "D ",
  "Eb",
  "E ",
  "F ",
  "Gb",
  "G "
};

int estimateTone(float frequency);
bool stringHasChanged(void);
float getDeviationCents(void);
void setTunerMode(unsigned char mode);
unsigned char getTunerMode(void);

#endif
